{"ast":null,"code":"import _classCallCheck from \"/home/DigPatho/InteractiveAnnotatorStreamlitV3/streamlit_image_annotation/Point/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/DigPatho/InteractiveAnnotatorStreamlitV3/streamlit_image_annotation/Point/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1\n  },\n  PAUSED = 1,\n  PLAYING = 2,\n  REVERSING = 3,\n  idCounter = 0,\n  colorAttrs = ['fill', 'stroke', 'shadowColor'];\nvar TweenEngine = /*#__PURE__*/function () {\n  function TweenEngine(prop, propFunc, func, begin, finish, duration, yoyo) {\n    _classCallCheck(this, TweenEngine);\n    this.prop = prop;\n    this.propFunc = propFunc;\n    this.begin = begin;\n    this._pos = begin;\n    this.duration = duration;\n    this._change = 0;\n    this.prevPos = 0;\n    this.yoyo = yoyo;\n    this._time = 0;\n    this._position = 0;\n    this._startTime = 0;\n    this._finish = 0;\n    this.func = func;\n    this._change = finish - this.begin;\n    this.pause();\n  }\n  _createClass(TweenEngine, [{\n    key: \"fire\",\n    value: function fire(str) {\n      var handler = this[str];\n      if (handler) {\n        handler();\n      }\n    }\n  }, {\n    key: \"setTime\",\n    value: function setTime(t) {\n      if (t > this.duration) {\n        if (this.yoyo) {\n          this._time = this.duration;\n          this.reverse();\n        } else {\n          this.finish();\n        }\n      } else if (t < 0) {\n        if (this.yoyo) {\n          this._time = 0;\n          this.play();\n        } else {\n          this.reset();\n        }\n      } else {\n        this._time = t;\n        this.update();\n      }\n    }\n  }, {\n    key: \"getTime\",\n    value: function getTime() {\n      return this._time;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(p) {\n      this.prevPos = this._pos;\n      this.propFunc(p);\n      this._pos = p;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(t) {\n      if (t === undefined) {\n        t = this._time;\n      }\n      return this.func(t, this.begin, this._change, this.duration);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.state = PLAYING;\n      this._startTime = this.getTimer() - this._time;\n      this.onEnterFrame();\n      this.fire('onPlay');\n    }\n  }, {\n    key: \"reverse\",\n    value: function reverse() {\n      this.state = REVERSING;\n      this._time = this.duration - this._time;\n      this._startTime = this.getTimer() - this._time;\n      this.onEnterFrame();\n      this.fire('onReverse');\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(t) {\n      this.pause();\n      this._time = t;\n      this.update();\n      this.fire('onSeek');\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.pause();\n      this._time = 0;\n      this.update();\n      this.fire('onReset');\n    }\n  }, {\n    key: \"finish\",\n    value: function finish() {\n      this.pause();\n      this._time = this.duration;\n      this.update();\n      this.fire('onFinish');\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.setPosition(this.getPosition(this._time));\n      this.fire('onUpdate');\n    }\n  }, {\n    key: \"onEnterFrame\",\n    value: function onEnterFrame() {\n      var t = this.getTimer() - this._startTime;\n      if (this.state === PLAYING) {\n        this.setTime(t);\n      } else if (this.state === REVERSING) {\n        this.setTime(this.duration - t);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.state = PAUSED;\n      this.fire('onPause');\n    }\n  }, {\n    key: \"getTimer\",\n    value: function getTimer() {\n      return new Date().getTime();\n    }\n  }]);\n  return TweenEngine;\n}();\nexport var Tween = /*#__PURE__*/function () {\n  function Tween(config) {\n    _classCallCheck(this, Tween);\n    var that = this,\n      node = config.node,\n      nodeId = node._id,\n      duration,\n      easing = config.easing || Easings.Linear,\n      yoyo = !!config.yoyo,\n      key;\n    if (typeof config.duration === 'undefined') {\n      duration = 0.3;\n    } else if (config.duration === 0) {\n      duration = 0.001;\n    } else {\n      duration = config.duration;\n    }\n    this.node = node;\n    this._id = idCounter++;\n    var layers = node.getLayer() || (node instanceof Konva['Stage'] ? node.getLayers() : null);\n    if (!layers) {\n      Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n    }\n    this.anim = new Animation(function () {\n      that.tween.onEnterFrame();\n    }, layers);\n    this.tween = new TweenEngine(key, function (i) {\n      that._tweenFunc(i);\n    }, easing, 0, 1, duration * 1000, yoyo);\n    this._addListeners();\n    if (!Tween.attrs[nodeId]) {\n      Tween.attrs[nodeId] = {};\n    }\n    if (!Tween.attrs[nodeId][this._id]) {\n      Tween.attrs[nodeId][this._id] = {};\n    }\n    if (!Tween.tweens[nodeId]) {\n      Tween.tweens[nodeId] = {};\n    }\n    for (key in config) {\n      if (blacklist[key] === undefined) {\n        this._addAttr(key, config[key]);\n      }\n    }\n    this.reset();\n    this.onFinish = config.onFinish;\n    this.onReset = config.onReset;\n    this.onUpdate = config.onUpdate;\n  }\n  _createClass(Tween, [{\n    key: \"_addAttr\",\n    value: function _addAttr(key, end) {\n      var node = this.node,\n        nodeId = node._id,\n        start,\n        diff,\n        tweenId,\n        n,\n        len,\n        trueEnd,\n        trueStart,\n        endRGBA;\n      tweenId = Tween.tweens[nodeId][key];\n      if (tweenId) {\n        delete Tween.attrs[nodeId][tweenId][key];\n      }\n      start = node.getAttr(key);\n      if (Util._isArray(end)) {\n        diff = [];\n        len = Math.max(end.length, start.length);\n        if (key === 'points' && end.length !== start.length) {\n          if (end.length > start.length) {\n            trueStart = start;\n            start = Util._prepareArrayForTween(start, end, node.closed());\n          } else {\n            trueEnd = end;\n            end = Util._prepareArrayForTween(end, start, node.closed());\n          }\n        }\n        if (key.indexOf('fill') === 0) {\n          for (n = 0; n < len; n++) {\n            if (n % 2 === 0) {\n              diff.push(end[n] - start[n]);\n            } else {\n              var startRGBA = Util.colorToRGBA(start[n]);\n              endRGBA = Util.colorToRGBA(end[n]);\n              start[n] = startRGBA;\n              diff.push({\n                r: endRGBA.r - startRGBA.r,\n                g: endRGBA.g - startRGBA.g,\n                b: endRGBA.b - startRGBA.b,\n                a: endRGBA.a - startRGBA.a\n              });\n            }\n          }\n        } else {\n          for (n = 0; n < len; n++) {\n            diff.push(end[n] - start[n]);\n          }\n        }\n      } else if (colorAttrs.indexOf(key) !== -1) {\n        start = Util.colorToRGBA(start);\n        endRGBA = Util.colorToRGBA(end);\n        diff = {\n          r: endRGBA.r - start.r,\n          g: endRGBA.g - start.g,\n          b: endRGBA.b - start.b,\n          a: endRGBA.a - start.a\n        };\n      } else {\n        diff = end - start;\n      }\n      Tween.attrs[nodeId][this._id][key] = {\n        start: start,\n        diff: diff,\n        end: end,\n        trueEnd: trueEnd,\n        trueStart: trueStart\n      };\n      Tween.tweens[nodeId][key] = this._id;\n    }\n  }, {\n    key: \"_tweenFunc\",\n    value: function _tweenFunc(i) {\n      var node = this.node,\n        attrs = Tween.attrs[node._id][this._id],\n        key,\n        attr,\n        start,\n        diff,\n        newVal,\n        n,\n        len,\n        end;\n      for (key in attrs) {\n        attr = attrs[key];\n        start = attr.start;\n        diff = attr.diff;\n        end = attr.end;\n        if (Util._isArray(start)) {\n          newVal = [];\n          len = Math.max(start.length, end.length);\n          if (key.indexOf('fill') === 0) {\n            for (n = 0; n < len; n++) {\n              if (n % 2 === 0) {\n                newVal.push((start[n] || 0) + diff[n] * i);\n              } else {\n                newVal.push('rgba(' + Math.round(start[n].r + diff[n].r * i) + ',' + Math.round(start[n].g + diff[n].g * i) + ',' + Math.round(start[n].b + diff[n].b * i) + ',' + (start[n].a + diff[n].a * i) + ')');\n              }\n            }\n          } else {\n            for (n = 0; n < len; n++) {\n              newVal.push((start[n] || 0) + diff[n] * i);\n            }\n          }\n        } else if (colorAttrs.indexOf(key) !== -1) {\n          newVal = 'rgba(' + Math.round(start.r + diff.r * i) + ',' + Math.round(start.g + diff.g * i) + ',' + Math.round(start.b + diff.b * i) + ',' + (start.a + diff.a * i) + ')';\n        } else {\n          newVal = start + diff * i;\n        }\n        node.setAttr(key, newVal);\n      }\n    }\n  }, {\n    key: \"_addListeners\",\n    value: function _addListeners() {\n      var _this = this;\n      this.tween.onPlay = function () {\n        _this.anim.start();\n      };\n      this.tween.onReverse = function () {\n        _this.anim.start();\n      };\n      this.tween.onPause = function () {\n        _this.anim.stop();\n      };\n      this.tween.onFinish = function () {\n        var node = _this.node;\n        var attrs = Tween.attrs[node._id][_this._id];\n        if (attrs.points && attrs.points.trueEnd) {\n          node.setAttr('points', attrs.points.trueEnd);\n        }\n        if (_this.onFinish) {\n          _this.onFinish.call(_this);\n        }\n      };\n      this.tween.onReset = function () {\n        var node = _this.node;\n        var attrs = Tween.attrs[node._id][_this._id];\n        if (attrs.points && attrs.points.trueStart) {\n          node.points(attrs.points.trueStart);\n        }\n        if (_this.onReset) {\n          _this.onReset();\n        }\n      };\n      this.tween.onUpdate = function () {\n        if (_this.onUpdate) {\n          _this.onUpdate.call(_this);\n        }\n      };\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.tween.play();\n      return this;\n    }\n  }, {\n    key: \"reverse\",\n    value: function reverse() {\n      this.tween.reverse();\n      return this;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.tween.reset();\n      return this;\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(t) {\n      this.tween.seek(t * 1000);\n      return this;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.tween.pause();\n      return this;\n    }\n  }, {\n    key: \"finish\",\n    value: function finish() {\n      this.tween.finish();\n      return this;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var nodeId = this.node._id,\n        thisId = this._id,\n        attrs = Tween.tweens[nodeId],\n        key;\n      this.pause();\n      for (key in attrs) {\n        delete Tween.tweens[nodeId][key];\n      }\n      delete Tween.attrs[nodeId][thisId];\n    }\n  }]);\n  return Tween;\n}();\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n  var onFinish = params.onFinish;\n  params.node = this;\n  params.onFinish = function () {\n    this.destroy();\n    if (onFinish) {\n      onFinish();\n    }\n  };\n  var tween = new Tween(params);\n  tween.play();\n};\nexport var Easings = {\n  BackEaseIn: function BackEaseIn(t, b, c, d) {\n    var s = 1.70158;\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  BackEaseOut: function BackEaseOut(t, b, c, d) {\n    var s = 1.70158;\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  BackEaseInOut: function BackEaseInOut(t, b, c, d) {\n    var s = 1.70158;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    }\n    return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n  },\n  ElasticEaseIn: function ElasticEaseIn(t, b, c, d, a, p) {\n    var s = 0;\n    if (t === 0) {\n      return b;\n    }\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n  ElasticEaseOut: function ElasticEaseOut(t, b, c, d, a, p) {\n    var s = 0;\n    if (t === 0) {\n      return b;\n    }\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n  ElasticEaseInOut: function ElasticEaseInOut(t, b, c, d, a, p) {\n    var s = 0;\n    if (t === 0) {\n      return b;\n    }\n    if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    }\n    return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n  },\n  BounceEaseOut: function BounceEaseOut(t, b, c, d) {\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  BounceEaseIn: function BounceEaseIn(t, b, c, d) {\n    return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n  },\n  BounceEaseInOut: function BounceEaseInOut(t, b, c, d) {\n    if (t < d / 2) {\n      return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n    } else {\n      return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n    }\n  },\n  EaseIn: function EaseIn(t, b, c, d) {\n    return c * (t /= d) * t + b;\n  },\n  EaseOut: function EaseOut(t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  EaseInOut: function EaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    }\n    return -c / 2 * (--t * (t - 2) - 1) + b;\n  },\n  StrongEaseIn: function StrongEaseIn(t, b, c, d) {\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  StrongEaseOut: function StrongEaseOut(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  StrongEaseInOut: function StrongEaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    }\n    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n  },\n  Linear: function Linear(t, b, c, d) {\n    return c * t / d + b;\n  }\n};","map":{"version":3,"names":["Util","Animation","Node","Konva","blacklist","node","duration","easing","onFinish","yoyo","PAUSED","PLAYING","REVERSING","idCounter","colorAttrs","TweenEngine","prop","propFunc","func","begin","finish","_classCallCheck","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","_createClass","key","value","fire","str","handler","setTime","t","reverse","play","reset","update","getTime","setPosition","p","getPosition","undefined","state","getTimer","onEnterFrame","seek","Date","Tween","config","that","nodeId","_id","Easings","Linear","layers","getLayer","getLayers","error","anim","tween","i","_tweenFunc","_addListeners","attrs","tweens","_addAttr","onReset","onUpdate","end","start","diff","tweenId","n","len","trueEnd","trueStart","endRGBA","getAttr","_isArray","Math","max","length","_prepareArrayForTween","closed","indexOf","push","startRGBA","colorToRGBA","r","g","b","a","attr","newVal","round","setAttr","_this","onPlay","onReverse","onPause","stop","points","call","destroy","thisId","prototype","to","params","BackEaseIn","c","d","s","BackEaseOut","BackEaseInOut","ElasticEaseIn","abs","PI","asin","pow","sin","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut"],"sources":["/home/DigPatho/InteractiveAnnotatorStreamlitV3/streamlit_image_annotation/Point/frontend/node_modules/konva/lib/Tween.js"],"sourcesContent":["import { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nexport class Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util.colorToRGBA(start[n]);\n                        endRGBA = Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util.colorToRGBA(start);\n            endRGBA = Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexport const Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}